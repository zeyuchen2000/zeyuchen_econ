-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Stata\Rep_folder\output_logs\TableA8.log
  log type:  text
 opened on:  20 Feb 2024, 01:25:43

. 
. global cov lngdp lnp max_temp min_temp windpow

. 
. use "Rep_folder\data\Shandong_sample.dta", clear

. cap drop post dudt

. gen post = (ym>=201703)

. gen dudt = post * boundary

. gen dist_bj_ln = ln(dist_bj)

. gen dudt_dist = post * dist_bj

. gen dudt_dist_ln = post * dist_bj_ln

. est drop _all

. 
. * JAPCP-covered boundary
. reghdfe lnAQI dudt $cov if (hnhb==1|boundary==0), absorb(monitor_id ym winddir#ym) cluster(monitor_id)
(dropped 4 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =      4,701
Absorbing 3 HDFE groups                           F(   6,     99) =      21.56
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9235
                                                  Adj R-squared   =     0.9178
                                                  Within R-sq.    =     0.0508
Number of clusters (monitor_id) =        100      Root MSE        =     0.1048

                           (Std. err. adjusted for 100 clusters in monitor_id)
------------------------------------------------------------------------------
             |               Robust
       lnAQI | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        dudt |  -.0960358   .0146739    -6.54   0.000    -.1251521   -.0669196
       lngdp |   .0523426   .0317161     1.65   0.102    -.0105891    .1152743
         lnp |  -.2466857   .0729654    -3.38   0.001    -.3914648   -.1019066
    max_temp |   .0171315   .0042498     4.03   0.000     .0086989     .025564
    min_temp |   -.021024   .0041973    -5.01   0.000    -.0293523   -.0126958
     windpow |  -.0436452   .0070517    -6.19   0.000    -.0576373   -.0296531
       _cons |   5.114195   .3568346    14.33   0.000     4.406158    5.822232
------------------------------------------------------------------------------

Absorbed degrees of freedom:
------------------------------------------------------+
  Absorbed FE | Categories  - Redundant  = Num. Coefs |
--------------+---------------------------------------|
   monitor_id |       100         100           0    *|
           ym |        60           0          60     |
   winddir#ym |       224          60         164     |
------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. est store bm_hnhb

. reghdfe lnAQI dudt dudt_dist $cov if (hnhb==1|boundary==0), absorb(monitor_id ym winddir#ym) cluster(monitor_id)
(dropped 4 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =      4,701
Absorbing 3 HDFE groups                           F(   7,     99) =      18.28
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9239
                                                  Adj R-squared   =     0.9181
                                                  Within R-sq.    =     0.0550
Number of clusters (monitor_id) =        100      Root MSE        =     0.1046

                           (Std. err. adjusted for 100 clusters in monitor_id)
------------------------------------------------------------------------------
             |               Robust
       lnAQI | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        dudt |   -.083559   .0157911    -5.29   0.000     -.114892    -.052226
   dudt_dist |   .0900815   .0345252     2.61   0.010     .0215759     .158587
       lngdp |   .0322776   .0308399     1.05   0.298    -.0289155    .0934707
         lnp |  -.1984159   .0741402    -2.68   0.009    -.3455262   -.0513057
    max_temp |    .016709   .0043069     3.88   0.000     .0081632    .0252547
    min_temp |   -.020306   .0042393    -4.79   0.000    -.0287176   -.0118943
     windpow |  -.0430006   .0069897    -6.15   0.000    -.0568697   -.0291315
       _cons |   4.715724   .3873518    12.17   0.000     3.947134    5.484314
------------------------------------------------------------------------------

Absorbed degrees of freedom:
------------------------------------------------------+
  Absorbed FE | Categories  - Redundant  = Num. Coefs |
--------------+---------------------------------------|
   monitor_id |       100         100           0    *|
           ym |        60           0          60     |
   winddir#ym |       224          60         164     |
------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. est store bm_hnhb_dist

. reghdfe lnAQI dudt dudt_dist_ln $cov if (hnhb==1|boundary==0), absorb(monitor_id ym winddir#ym) cluster(monitor_id)
(dropped 4 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =      4,701
Absorbing 3 HDFE groups                           F(   7,     99) =      18.18
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9239
                                                  Adj R-squared   =     0.9181
                                                  Within R-sq.    =     0.0550
Number of clusters (monitor_id) =        100      Root MSE        =     0.1046

                           (Std. err. adjusted for 100 clusters in monitor_id)
------------------------------------------------------------------------------
             |               Robust
       lnAQI | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        dudt |  -.0833175   .0158774    -5.25   0.000    -.1148217   -.0518132
dudt_dist_ln |   .5464446    .209655     2.61   0.011     .1304435    .9624457
       lngdp |   .0323814   .0308314     1.05   0.296    -.0287948    .0935576
         lnp |  -.1982149   .0741603    -2.67   0.009     -.345365   -.0510648
    max_temp |   .0166984   .0043049     3.88   0.000     .0081566    .0252402
    min_temp |  -.0203027   .0042377    -4.79   0.000    -.0287112   -.0118943
     windpow |  -.0429885   .0069878    -6.15   0.000    -.0568537   -.0291232
       _cons |   4.461453   .4377394    10.19   0.000     3.592883    5.330023
------------------------------------------------------------------------------

Absorbed degrees of freedom:
------------------------------------------------------+
  Absorbed FE | Categories  - Redundant  = Num. Coefs |
--------------+---------------------------------------|
   monitor_id |       100         100           0    *|
           ym |        60           0          60     |
   winddir#ym |       224          60         164     |
------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. est store bm_hnhb_dist_ln

. 
. * JAPCP-uncovered boundary
. replace post = (ym>=201710)
(702 real changes made)

. replace dudt = post * boundary
(99 real changes made)

. replace dudt_dist = post * dist_bj
(702 real changes made)

. reghdfe lnAQI dudt $cov if (js==1|boundary==0), absorb(monitor_id ym winddir#ym) cluster(monitor_id)
(dropped 6 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =      4,499
Absorbing 3 HDFE groups                           F(   6,     92) =      14.38
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9208
                                                  Adj R-squared   =     0.9150
                                                  Within R-sq.    =     0.0418
Number of clusters (monitor_id) =         93      Root MSE        =     0.1051

                            (Std. err. adjusted for 93 clusters in monitor_id)
------------------------------------------------------------------------------
             |               Robust
       lnAQI | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        dudt |   .0530209    .018393     2.88   0.005     .0164908    .0895509
       lngdp |   .0586758   .0311594     1.88   0.063    -.0032095     .120561
         lnp |  -.2917749   .1370087    -2.13   0.036    -.5638859   -.0196638
    max_temp |   .0187891   .0042886     4.38   0.000     .0102716    .0273067
    min_temp |  -.0212443   .0041654    -5.10   0.000    -.0295172   -.0129714
     windpow |  -.0440557   .0073593    -5.99   0.000     -.058672   -.0294394
       _cons |   5.203617   .5917578     8.79   0.000     4.028335    6.378899
------------------------------------------------------------------------------

Absorbed degrees of freedom:
------------------------------------------------------+
  Absorbed FE | Categories  - Redundant  = Num. Coefs |
--------------+---------------------------------------|
   monitor_id |        93          93           0    *|
           ym |        60           0          60     |
   winddir#ym |       211          60         151     |
------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. est store bm_js

. reghdfe lnAQI dudt dudt_dist $cov if (js==1|boundary==0), absorb(monitor_id ym winddir#ym) cluster(monitor_id)
(dropped 6 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =      4,499
Absorbing 3 HDFE groups                           F(   7,     92) =      12.43
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9210
                                                  Adj R-squared   =     0.9151
                                                  Within R-sq.    =     0.0435
Number of clusters (monitor_id) =         93      Root MSE        =     0.1050

                            (Std. err. adjusted for 93 clusters in monitor_id)
------------------------------------------------------------------------------
             |               Robust
       lnAQI | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        dudt |   .0414173   .0195005     2.12   0.036     .0026877    .0801469
   dudt_dist |   .0601727   .0330174     1.82   0.072    -.0054028    .1257482
       lngdp |   .0438412    .030416     1.44   0.153    -.0165676    .1042499
         lnp |  -.2541719   .1341158    -1.90   0.061    -.5205374    .0121936
    max_temp |   .0184243    .004277     4.31   0.000     .0099298    .0269189
    min_temp |  -.0211953   .0041996    -5.05   0.000    -.0295361   -.0128546
     windpow |  -.0422324   .0072926    -5.79   0.000     -.056716   -.0277487
       _cons |   4.973985   .5822298     8.54   0.000     3.817626    6.130344
------------------------------------------------------------------------------

Absorbed degrees of freedom:
------------------------------------------------------+
  Absorbed FE | Categories  - Redundant  = Num. Coefs |
--------------+---------------------------------------|
   monitor_id |        93          93           0    *|
           ym |        60           0          60     |
   winddir#ym |       211          60         151     |
------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. est store bm_js_dist

. reghdfe lnAQI dudt dudt_dist_ln $cov if (js==1|boundary==0), absorb(monitor_id ym winddir#ym) cluster(monitor_id)
(dropped 6 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =      4,499
Absorbing 3 HDFE groups                           F(   7,     92) =      12.33
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9211
                                                  Adj R-squared   =     0.9153
                                                  Within R-sq.    =     0.0450
Number of clusters (monitor_id) =         93      Root MSE        =     0.1049

                            (Std. err. adjusted for 93 clusters in monitor_id)
------------------------------------------------------------------------------
             |               Robust
       lnAQI | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        dudt |   .0418779   .0192989     2.17   0.033     .0035486    .0802072
dudt_dist_ln |   .5010089   .2291139     2.19   0.031     .0459689    .9560489
       lngdp |    .043717   .0299446     1.46   0.148    -.0157555    .1031895
         lnp |  -.2516315   .1368252    -1.84   0.069    -.5233782    .0201151
    max_temp |    .018648   .0043409     4.30   0.000     .0100266    .0272695
    min_temp |  -.0208917   .0042034    -4.97   0.000    -.0292401   -.0125433
     windpow |  -.0432905   .0072642    -5.96   0.000    -.0577178   -.0288633
       _cons |   4.602823   .6423752     7.17   0.000      3.32701    5.878635
------------------------------------------------------------------------------

Absorbed degrees of freedom:
------------------------------------------------------+
  Absorbed FE | Categories  - Redundant  = Num. Coefs |
--------------+---------------------------------------|
   monitor_id |        93          93           0    *|
           ym |        60           0          60     |
   winddir#ym |       211          60         151     |
------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. est store bm_js_dist_ln

. 
. esttab bm_*, mtitle se(%6.3f) b(%6.3f) ar2 keep(dudt dudt_dist dudt_dist_ln) star(* 0.1 ** 0.05 *** 0.01)

------------------------------------------------------------------------------------------------------------
                      (1)             (2)             (3)             (4)             (5)             (6)   
                  bm_hnhb    bm_hnhb_dist    bm_hnhb_di~n           bm_js      bm_js_dist    bm_js_dist~n   
------------------------------------------------------------------------------------------------------------
dudt               -0.096***       -0.084***       -0.083***        0.053***        0.041**         0.042** 
                  (0.015)         (0.016)         (0.016)         (0.018)         (0.020)         (0.019)   

dudt_dist                           0.090**                                         0.060*                  
                                  (0.035)                                         (0.033)                   

dudt_dist_ln                                        0.546**                                         0.501** 
                                                  (0.210)                                         (0.229)   
------------------------------------------------------------------------------------------------------------
N                    4701            4701            4701            4499            4499            4499   
adj. R-sq           0.918           0.918           0.918           0.915           0.915           0.915   
------------------------------------------------------------------------------------------------------------
Standard errors in parentheses
* p<0.1, ** p<0.05, *** p<0.01

. 
. log close
      name:  <unnamed>
       log:  D:\Stata\Rep_folder\output_logs\TableA8.log
  log type:  text
 closed on:  20 Feb 2024, 01:25:44
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
